<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Bot Manager</title>
</head>
<body style="font-family: 'Times New Roman', Times, serif;">
    <h1 style="text-align: center;">Discord Bot Manager</h1>

    <form action="/" method="POST" style="text-align: center;">
        <!Password>
        <label for="pwd">Passphrase:</label><br/>
            <input type="password" id="pwd" name="pwd" required> <br/>
        
        <!Action choice>
        <h3>Action Choice</h2>
            <input type="radio" id="run" name="action" value="run" required>
        <label for="run">Run</label><br/>
            <input type="radio" id="update" name="action" value="update" required>
        <label for="update">Update</label><br/>
            <input type="radio" id="add" name="action" value="add"  required>
        <label for="add">Add</label><br/>
        
            <div id = "addTextBox" style = "visibility: hidden;">
                <input type="text" id = "bot-name" name = "addOptions" placeholder = "Bot name" > <br/>
                <input type="text" id = "github-link" name = "addOptions" placeholder = "GitHub link" pattern = "https://github.com/.+/.+\.git">
                <p style="font-size: small;">Make sure the GitHub Link is formatted properly</p>
            </div>
        
            <script> 
                let addButton = document.getElementById('add');
                let addTextBox = document.getElementById("addTextBox")
                let textBox1 = addTextBox.children.item(0);
                let textBox2 = addTextBox.children.item(2);
                function checkFocus(){
                    if(document.activeElement ===addButton || document.activeElement===textBox1||document.activeElement===textBox2) {addTextBox.style.visibility = 'visible';}
                    else{addTextBox.style.visibility = 'hidden';}
                }
                setInterval(checkFocus,200);
            </script>
            
        <!Bot Choice>
        <h3>Bot Choice</h2>
            <!Generates a radio button for each new bot>
            <% bots.forEach(bot => { %>
                <input type="radio" name="botChoice" id="<%=bot.name%>"  value = "<%=bot.name%>"required>
                <label for="<%=bot.name%>" ><%= bot.name %> </label><br/>
            <% }) %>

        
    

        <!Submit Button>
        <br/><br/> <input type="submit" value="Submit" onsubmit="location.href='./index.html'"> <input type = "reset" name="Reset">  
    </form>
</body>
</html>